## Apuntes sobre lo más relevante para el proyecto

A pesar del rápido éxito del aprendizaje automático tradicional en el ámbito médico, desarrollar modelos predictivos efectivos sigue siendo difícil. Debido a la naturaleza de alta dimensionalidad de los datos de atención médica, típicamente solo se selecciona un conjunto limitado de características apropiadas entre miles de candidatos para cada nueva tarea de predicción, lo que requiere un proceso laborioso y que consume mucho tiempo.

En comparación con su contraparte de aprendizaje automático tradicional, los métodos de aprendizaje profundo (DL) han mostrado un rendimiento superior en diversas tareas de predicción en salud al abordar la alta dimensionalidad y temporalidad de los datos médicos mencionadas anteriormente.

Los modelos de DL logran esto a través de secuencias repetidas de capas de entrenamiento, cada una empleando un gran número de transformaciones lineales y no lineales simples que mapean las entradas a representaciones significativas de patrones temporales distinguibles. Liberados de la dependencia de expertos para especificar qué características elaboradas manualmente utilizar, estos aprendices de redes neuronales de extremo a extremo tienen la capacidad de modelar datos con patrones temporales ricos y pueden codificar representaciones de alto nivel de características como combinaciones no lineales de parámetros de la red.

Se categorizan las aplicaciones de aprendizaje profundo en registros electrónicos de salud (EHR) en cinco categorías: extracción de información, aprendizaje de representación, predicción de resultados, fenotipado computacional y desidentificación de datos clínicos.

En este artículo, se revisan estudios que se centran en modelos de predicción de DL que aprovechan los datos de series temporales estructuradas de pacientes para tareas de predicción en salud desde una perspectiva técnica.

Cabe señalar que la mortalidad, la insuficiencia cardíaca, la readmisión y las predicciones de diagnóstico de la próxima visita del paciente son las tareas de predicción más estudiadas, y un conjunto de datos en línea disponible públicamente, es el Medical Information Mart for Intensive Care.

Las representaciones de pacientes empleadas para la predicción de series temporales profundas en salud pueden clasificarse en una de dos categorías: representación de secuencia y representación de matriz.

Se convirtieron los resultados de pruebas de laboratorio numéricas en categorías prediseñadas al codificarlos como faltantes, bajos, normales o altos al predecir la hipertensión y el inicio asociado de estados cardiovasculares de alto riesgo.

Es notable que un estudio singular observó la superioridad de la representación de matriz sobre la representación de secuencia para la predicción de readmisiones de pacientes con enfermedad pulmonar obstructiva crónica (EPOC) utilizando una gran base de datos de AC. Este estudio y otras representaciones de matriz encontraron que integrar granularidades de tiempo gruesas, como semanal o mensual, en lugar de medidas de granularidad de tiempo más finas, puede mejorar el rendimiento. Por lo que a lo mejor no tenemos que generar los datos faltantes y podemos extraer solo la información relevante en nuestro proyecto de nuestras series de tiempo pero esta queda todavía en un hipótesis.

Este estudio también comparó varias técnicas de incrustación, y los autores no encontraron diferencias significativas en sus resultados. Finalmente, Qiao et al. resumieron cada serie temporal numérica en términos de medidas temporales como su estructura de autocorrelación, distribución de datos, entropía y estacionariedad. Encontraron que estas medidas pueden mejorar la interpretabilidad de las características temporales extraídas sin degradar el rendimiento de la predicción.

Esta técnica ha beneficiado la predicción de readmisiones hospitalarias, el diagnóstico de la próxima visita del paciente y el inicio de enfermedades vasculares.

La entrada de valores faltantes utilizando métodos como cero, mediana, hacia adelante-hacia atrás y conocimiento del dominio por expertos ha sido el enfoque más común para manejar valores faltantes en los datos de series temporales de pacientes. (Aquí ver las referencias a los artículos específicos para más info al respecto)

### Representación de los pacientes
De las representaciones de pacientes secuenciales y de matriz comúnmente utilizadas, las tareas de predicción con entradas predominantemente numéricas, como pruebas de laboratorio y signos vitales, a menudo dependen de representaciones de secuencia, mientras que aquellos estudios que utilizan principalmente entradas categóricas, como códigos de diagnóstico o códigos de procedimiento, comúnmente incorporan una representación de matriz.

Un método implica convertir cantidades numéricas de pacientes en categóricas asignando un token único a cada medida. Así, cada código de prueba de laboratorio específico, valor y unidad tendrá su propio marcador identificador. Usando un segundo método, los investigadores codifican medidas numéricas con nombres clínicamente significativos, como faltante, bajo, alto, normal y anormal. Una tercera alternativa requiere la conversión de medidas numéricas en puntajes de severidad, para discretizarlas en categorías bajas, normales y altas.

Che et al. encontraron que aprender valores faltantes era más efectivo cuando la correlación promedio de Pearson entre pruebas de laboratorio con una alta tasa de faltantes y la variable dependiente, mortalidad, era superior a 0.5. Esto por si tenemos esos datos.


Se encontró que los modelos de DL basados en RNN y sus variantes eran la arquitectura más prevalente para la predicción de series temporales profundas en datos.

Las arquitecturas de RNN vanilla no son lo suficientemente sofisticadas para capturar adecuadamente las dependencias temporales cuando las secuencias de EHR son relativamente largas, debido al problema del gradiente que se desvanece. Para abordar este problema, las redes recurrentes LSTM y GRU, con sus celdas de memoria y elaborados mecanismos de compuertas, han sido empleadas habitualmente por los investigadores, con resultados mejorados en una variedad de tareas de predicción en salud. Aunque algunos estudios muestran una ligera superioridad de las arquitecturas GRU frente a las redes LSTM (alrededor de un aumento del 1% en el AUC), otros estudios no encontraron diferencias significativas entre ellas. En general, LSTM y GRU tienen mecanismos de retención de memoria similares, aunque las implementaciones de GRU son menos complejas y tienen tiempos de ejecución más rápidos.

Por lo tanto, las redes recurrentes bidireccionales son los modelos de DL más avanzados para la predicción de series temporales en salud.

Sin embargo, el aprendizaje por canal, una técnica que entrena una capa de RNN separada por cada característica o tipo de característica, ha mejorado con éxito los modelos de RNN tradicionales que contienen capas de red que aprenden todos los parámetros de características simultáneamente. Hay dos ideas subyacentes detrás de este desarrollo. Primero, ayuda a identificar patrones únicos dentro de cada serie temporal individual (por ejemplo, el estado del sistema de órganos del cuerpo) antes de la integración con patrones encontrados en datos multivariantes. Segundo, el aprendizaje por canal facilita la identificación de patrones relacionados con la falta de información informada, al descubrir cuál de las variables enmascaradas se correlaciona fuertemente con otras variables, ya sean objetivos o no.

Sin embargo, las tendencias arquitectónicas recientes han estado utilizando capas convolucionales como complemento de GRU y LSTM. La idea subyacente es que las capas de RNN capturan la estructura global de los datos mediante la modelización de interacciones entre eventos, mientras que las capas de CNN, utilizando sus operadores de convolución temporal, capturan estructuras locales de los datos que ocurren en varios niveles de abstracción.


## Conclusiones e Info util para la modelación

• Representación del paciente: Hay dos enfoques comunes: representación de secuencia y representación de matriz. Para las tareas de predicción en las que las entradas son numéricas, como pruebas de laboratorio o signos vitales, se han utilizado típicamente representaciones de secuencia. Para aquellas con entradas categóricas, como códigos de diagnóstico o códigos de procedimiento, la representación de matriz es la opción preferida. Para combinar entradas numéricas y categóricas, los investigadores han empleado tres métodos distintos: (1) asignar un token único a cada combinación de nombre de medida, valor y unidad; (2) codificar las medidas numéricas categóricamente como faltantes, bajos, normales o altos; y (3) convertir las medidas numéricas en puntajes de severidad para discretizarlas aún más como bajas, normales o altas. Además, la incorporación de eventos médicos en una representación de secuencia implicó tres técnicas prevalentes adicionales: (1) agregar una capa de incrustación separada para aprender una representación óptima de códigos médicos desde cero, (2) adoptar una capa de incrustación preentrenada, como con word2vec, o (3) utilizar una estrategia de agrupación de códigos médicos, a veces involucrando CCS. Comparar estos diversos enfoques y técnicas en un entorno de evaluación sólido necesita más investigación.

• Manejo de valores faltantes: Los valores faltantes en los datos de atención médica generalmente no son aleatorios, sino que a menudo reflejan decisiones de los cuidadores. Capturar los valores faltantes como un vector de enmascaramiento de entrada separado o aprender los patrones de faltantes con una red neuronal han sido los métodos más efectivos hasta la fecha. Identificar características faltantes impactantes ayudará a los proveedores de atención médica a implementar estrategias óptimas de recolección de datos y a informar mejor la toma de decisiones clínicas.

• Modelos de DL: Las arquitecturas de RNN, particularmente sus versiones de GRU y LSTM de una sola capa, fueron identificadas como las redes más prevalentes en la literatura existente. Estos modelos sobresalen en largas secuencias de datos de entrada que representan la historia longitudinal del paciente. Los modelos de RNN extraen patrones temporales globales; sin embargo, las CNN son competentes en la detección de patrones y motivos locales. Combinar RNN y CNN en una estructura híbrida para capturar ambos tipos de patrones se ha convertido en una tendencia en estudios recientes. Se requiere más investigación para comprender la arquitectura óptima de la red para varios entornos hospitalarios y tareas de aprendizaje.

• Abordar la irregularidad temporal: Para manejar la irregularidad de las visitas, el intervalo de tiempo entre visitas se proporciona como una entrada independiente adicional, o alternativamente, los procesos de memoria interna de las redes recurrentes se modifican ligeramente para asignar diferentes pesos a las visitas anteriores en comparación con las más recientes. Al abordar las irregularidades de las características, las actividades de memoria y compuerta de las redes RNN se modifican de manera similar para aprender patrones de decaimiento individualizados para cada característica o tipo de característica. En general, los métodos de manejo de irregularidades temporales necesitan experimentos de evaluación más robustos en una variedad de entornos hospitalarios, incluyendo variaciones en el tipo de paciente (hospitalizado vs. ambulatorio) y la duración de la visita (secuencia larga vs. secuencia corta).

• Mecanismos de atención: La atención basada en la ubicación es, con mucho, el medio más comúnmente utilizado para diferenciar la importancia en partes de los datos de entrada y nodos de la red. La mayoría de los estudios utilizaron mecanismos de atención para mejorar la interpretabilidad de sus modelos de DL propuestos al resaltar visitas o códigos médicos importantes, pero sin evaluar el efecto diferencial de los mecanismos de atención en el rendimiento de la predicción. Además, encontramos que se justifica una mayor indagación para evaluar por separado las contribuciones de la atención a nivel de visita y de código médico.

• Incorporación de ontologías médicas: Los investigadores han incorporado árboles de ontología médica y gráficos de conocimiento en las capas de incrustación de redes recurrentes para compensar la falta de datos suficientes en relación con enfermedades raras para tareas de predicción. Utilizando estos recursos de conocimiento del dominio médico, la información sobre tales enfermedades raras se captura a través de los nodos ancestrales y caminos en el árbol o gráfico para su entrada en las incrustaciones de la red.

• Inclusión de datos estáticos: Encontramos cuatro enfoques básicos seguidos por los investigadores para fusionar datos demográficos e históricos del paciente con la entrada dinámica longitudinal de datos de EHR o AC: (1) alimentar características estáticas a la capa completamente conectada final de la red neuronal, (2) entrenar una red de retroalimentación separada para la inclusión posterior de la salida codificada en la red principal, (3) la repetición de la entrada de características estáticas en cada punto temporal de manera cuasi-estática, y (4) modificar los procesos internos de las redes recurrentes. No encontramos ningún estudio que evaluara los efectos de los datos estáticos en el rendimiento de la predicción, especialmente en el análisis posterior de los resultados de rendimiento para las características estáticas.

• Estrategias de aprendizaje: Tres estrategias de aprendizaje han sido investigadas por los autores incluidos en esta revisión: (1) aprendizaje sensible al costo, (2) aprendizaje multitarea, y (3) aprendizaje por transferencia. La incorporación de componentes de aprendizaje sensible al costo en redes de DL es una brecha de investigación abierta para estudios futuros. En cuanto al aprendizaje multitarea, los investigadores han informado sobre su beneficio citando niveles de rendimiento aumentados en una variedad de tareas de predicción de resultados en salud. Sin embargo, el aprendizaje multitarea no aclara qué capas de red, componentes o tipos de patrones temporales extraídos dentro del diseño arquitectónico deben compartirse entre las diferentes tareas, así como en qué escenarios de atención médica la estrategia multitarea es más eficiente. El aprendizaje por transferencia fue el método menos estudiado encontrado en nuestra revisión sistemática, pero tiene perspectivas prometedoras para una mayor indagación, a medida que aumenta la escala de datos y el número de conjuntos de datos externos en los trabajos publicados.

• Interpretación: El enfoque más común para visualizar visitas importantes o códigos médicos en pacientes individuales fue el uso de un mecanismo de atención en la red neuronal. Aunque la interpretación a nivel individual es, de hecho, importante, como dirección de investigación futura, el uso de técnicas de interpretación a nivel poblacional para extraer patrones generales e identificar eventos médicos específicos asociados con resultados de atención médica objetivo será un gran beneficio para los tomadores de decisiones clínicas.

• Escalabilidad: Varios estudios confirman la generalizabilidad de modelos de predicción de series temporales profundas bien conocidos a grandes conjuntos de datos de EHR hospitalarios, incluso con alta dimensionalidad de entrada. Sin embargo, analizar arquitecturas de red avanzadas que se han propuesto en trabajos recientes es una vía sugerida para la investigación futura. Además, algunos estudios encontraron que los conjuntos de métodos de aprendizaje supervisado tradicionales tienen un rendimiento comparable a los modelos de DL, tanto en datos de EHR como de AC. Quedan importantes brechas de investigación para establecer una comparación adecuada de DL frente a modelos de ML tradicionales individuales o en conjunto. En particular, sería útil identificar las condiciones de paciente, dimensionalidad y valores faltantes en las que los modelos de DL, con su mayor complejidad y tiempos de ejecución, podrían ser superfluos. Esta es una preocupación continua al considerar la necesidad de implementar sistemas de información en tiempo real que puedan informar mejor a los tomadores de decisiones clínicas.